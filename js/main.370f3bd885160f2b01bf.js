(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"85Qh":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return o}));var a=function(e){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][e.getDay()]},o=function(){function e(t){var n=t.sheetsApi;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._sheetsApi=n,this._isHoursDataLoaded=!1}var t,n,o;return t=e,(n=[{key:"load",value:function(){var e=this;return this._sheetsApi.fetchHours().then((function(t){e._isHoursDataLoaded=!0,e._hoursData=t})).catch(console.error)}},{key:"isLoaded",value:function(){return this._isHoursDataLoaded}},{key:"totals",value:function(){var e={currentWeek:{hours:0},currentDay:{hours:0},previousWeek:{hours:0},sunday:{hours:0},monday:{hours:0},tuesday:{hours:0},wednesday:{hours:0},thursday:{hours:0},friday:{hours:0},saturday:{hours:0}},t=function(e){return e/36e5};return this.thisWeek().forEach((function(n){var r=n.startDateTime,o=n.endDateTime,i=t(o-r);e[a(r)].hours+=i,e.currentWeek.hours+=i})),e.previousWeek.hours=this.previousWeek().reduce((function(e,n){var r=n.startDateTime,a=n.endDateTime;return e+t(a-r)}),0),e.currentDay.hours=e[a(new Date)].hours,e}},{key:"thisWeek",value:function(){return this._getHoursForWeek(this._firstDayOfCurrentWeek())}},{key:"previousWeek",value:function(){var e=this._firstDayOfCurrentWeek();return e.setDate(e.getDate()-7),this._getHoursForWeek(e)}},{key:"_firstDayOfCurrentWeek",value:function(){var e=new Date;return e.setMilliseconds(0),e.setSeconds(0),e.setMinutes(0),e.setHours(0),e.setDate(e.getDate()-e.getDay()),e}},{key:"_getHoursForWeek",value:function(e){var t=new Date(e.getTime());return t.setDate(e.getDate()+7),this._hoursData.filter((function(n){var r=n.startDateTime;return r>=e&&r<t}))}}])&&r(t.prototype,n),o&&r(t,o),e}()},"FXl/":function(e,t,n){"use strict";(function(e){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return a}));var a=function(){function t(n){var r=n.onSheetSelected;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._onSheetSelected=r,this._selector="#list-group-sheets",e(this._selector).on("click","button",this.createHandleItemClick(r))}var n,a,o;return n=t,(a=[{key:"createHandleItemClick",value:function(t){return function(){e(event.target).hasClass("web-view-link")||t&&t(e(this).attr("data-id"))}}},{key:"show",value:function(){e(this._selector).fadeIn()}},{key:"hide",value:function(){var t=this;return new Promise((function(n,r){try{e(t._selector).fadeOut(400,n)}catch(e){r(e)}}))}},{key:"setSheets",value:function(t){e(this._selector).empty().append(t.map(this.createSheetButton))}},{key:"createSheetButton",value:function(t){var n=t.id,r=t.name,a=t.webViewLink,o=t.iconLink,i=e("<img>").attr({src:o,"aria-hidden":"true",class:"mr-2"}),s=e('<i class="fas fa-external-link-alt" aria-hidden="true"></i>'),u=e("<a>").attr({class:"web-view-link pl-2",href:a,"aria-label":"Open sheet in new tab",target:"_blank"}).append(s);return e("<button>").addClass("list-group-item list-group-item-action h6").append(i,r,u).attr({type:"button","data-id":n})}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"))},b5Oa:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,"fetchAllSheets",(function(){return c})),n.d(t,"setHoursSheet",(function(){return l})),n.d(t,"setHoursSheetId",(function(){return h})),n.d(t,"getHoursSheet",(function(){return d})),n.d(t,"getHoursSheetId",(function(){return f})),n.d(t,"isHoursSheetSet",(function(){return p})),n.d(t,"fetchHours",(function(){return y}));var o=window.gapi,i=[],s=function(){return new Date(parseInt(localStorage.getItem("hours-data-loaded-at")))},u=function(e){return localStorage.setItem("hours-data-loaded-at",e.getTime())},c=function(){return new Promise((function(e,t){o.client.drive.files.list({fields:"nextPageToken, files(id, name, webViewLink, iconLink)",q:'mimeType="application/vnd.google-apps.spreadsheet"'}).then((function(n){var r=n.result.files;if(!r||r.length<1)return t(new Error("No Google Sheets!"));i=r,e(r)}),t)}))},l=function(e){return localStorage.setItem("hours-sheet",JSON.stringify(i.find((function(t){return t.id===e}))))},h=function(e){return localStorage.setItem("hours-sheet",JSON.stringify(i.find((function(t){return t.id===e}))))},d=function(){return JSON.parse(localStorage.getItem("hours-sheet"))},f=function(){var e=d();return e&&e.id},p=function(){return!!d()},g=function(e){var t=86400*e-2209161600,n=new Date;return n.setTime(1e3*t),n.setMinutes(n.getTimezoneOffset()+n.getMinutes()),n},v=function(e){var t={};return t.timestamp=g(parseFloat(e[0])),t.startDateTime=g(parseFloat(e[1])+parseFloat(e[2])),t.endDateTime=g(parseFloat(e[1])+parseFloat(e[3])),t.notes=e[4].trim(),t},y=function(){return new Promise((function(e,t){if((new Date).getTime()-s().getTime()<6e4)e(JSON.parse(localStorage.getItem("hours-data")).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{timestamp:new Date(e.timestamp),startDateTime:new Date(e.startDateTime),endDateTime:new Date(e.endDateTime)})})));else{var n={spreadsheetId:f(),range:"A:E",valueRenderOption:"UNFORMATTED_VALUE",dateTimeRenderOption:"SERIAL_NUMBER"};o.client.sheets.spreadsheets.values.get(n).then((function(t){var n=t.result.values.slice(1).map(v);u(new Date),localStorage.setItem("hours-data",JSON.stringify(n)),e(n)}),t)}}))}},e6Wu:function(e,t,n){"use strict";n.r(t),function(e){n("SYky");var t,r,a=n("7O5W"),o=n("g0/r"),i=(n("hZTp"),n("kpFX")),s=n("b5Oa"),u=n("FXl/"),c=n("85Qh"),l=n("sFGK");a.b.add(o.faExternalLinkAlt),a.a.watch();var h=new c.a({sheetsApi:s});function d(e){g(),e&&s.isHoursSheetSet()&&!h.isLoaded()?h.load().then(g):e&&s.fetchAllSheets().then((function(e){return g({sheets:e})})).catch(console.error)}function f(){try{if(i.b())return void i.d();t.text("Loading..."),i.c()}catch(e){console.log(e)}}var p=function(e){s.setHoursSheetId(e),h.load().then(g)},g=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.sheets,o=i.b(),u=s.isHoursSheetSet(),c=h.isLoaded();if(o?t.text("Log Out").toggleClass(""):t.text("Sign In with Google"),o&&u?r.hide().then((function(){e("#external-link-hours-sheet").attr({href:s.getHoursSheet().webViewLink}).fadeIn()})):!u&&a?(r.setSheets(a),r.show()):o?(e("#external-link-hours-sheet").fadeOut(),r.show()):r.hide(),c){var d=new l.a({hours:h.totals()});e("#totals").html(d.render()).fadeIn()}};e((function(){t=e("#button-login"),e("#button-select-sheet").on("click",(function(){})),t.text("Loading..."),t.on("click",f),i.a({onChange:d}),r=new u.a({onSheetSelected:p})}))}.call(this,n("EVdn"))},hZTp:function(e,t,n){},kpFX:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u}));var r=window.gapi,a=function(){if(!r.auth2)throw new Error("Google API Auth2 must be initialized.");return r.auth2},o=function(e){var t,n=e.onChange;r.load("client:auth2",(t={handleSignInStatusChange:n}.handleSignInStatusChange,function(){var e=console.error;r.client.init({clientId:"661549194387-755tit59r7uggmsctfsjkt25vhl2j1ua.apps.googleusercontent.com",GOOGLE_API_KEY:"AIzaSyDrOHTyZdBhmFNWdY_TX6Q5iADN0aKn1cw",scope:["https://www.googleapis.com/auth/spreadsheets.readonly","https://www.googleapis.com/auth/drive.metadata.readonly"].join(" "),discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"]}).then((function(){a().getAuthInstance().isSignedIn.listen(t),t(a().getAuthInstance().isSignedIn.get())}),e)}))},i=function(){return a().getAuthInstance().isSignedIn.get()},s=function(){a().getAuthInstance().signOut()},u=function(){a().getAuthInstance().signIn()}},sFGK:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,(n=[{key:"render",value:function(e){var t=e.goal,n=e.hours,r=Math.floor(n/t*100),a=this.renderLabel({percent:r,hours:n,goal:t});return'\n    <div class="progress" style="max-width: 400px">\n      <div\n        style="width: '.concat(r,'%"\n        class="progress-bar"\n        role="progressbar"\n        aria-valuenow="').concat(r,'"\n        aria-valuemin="0"\n        aria-valuemax="100"\n      >').concat(a,"</div>\n    </div>\n  ")}},{key:"renderLabel",value:function(e){var t=e.percent,n=e.hours,r=e.goal;return t<10?"":t<=25?n.toFixed():"".concat(n.toFixed()," / ").concat(r)}}])&&r(t.prototype,n),a&&r(t,a),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.d(t,"a",(function(){return s}));var i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=function(){function e(t){var n=t.hours;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._hours=n}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this._hours,t=e.previousWeek,n=e.currentWeek;return['<p class="h5 pt-3">Current Week:</p>',(new a).render({goal:40,hours:n.hours}),'<p class="pt-3">'.concat(t.hours.toFixed(2)," hours last week</p>"),this.renderDaysTable()].join("")}},{key:"renderDaysTable",value:function(){var e=this,t=(new Date).getDay(),n=i.map((function(n,r){return e.renderDaysTableRow(n,r===t)})).join("");return'<table class="table mt-5" style="max-width: 400px"><tbody>'.concat(n,"</tbody></table>")}},{key:"renderDaysTableRow",value:function(e,t){var n="<td>".concat(this._hours[e].hours.toFixed(2),"</td>");if(t){var r="<th>".concat(e[0].toUpperCase()+e.substr(1)," ").concat('<span class="badge badge-primary">Today!</span>',"</th>");return'<tr class="table-primary">'.concat(r).concat(n,"</tr>")}var a="<th>".concat(e[0].toUpperCase()+e.substr(1),"</th>");return"<tr>".concat(a).concat(n,"</tr>")}}])&&o(t.prototype,n),r&&o(t,r),e}()}},[["e6Wu",1,2]]]);